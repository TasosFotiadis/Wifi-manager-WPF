<Window
    x:Class="WifiManagerWPF.ConnectToNetwork"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:av="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:WifiManagerWPF"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="Connect to Network"
    Width="1366"
    Height="760"
    MaxWidth="1366"
    MaxHeight="760"
    Background="{DynamicResource PrimaryBackground}"
    ResizeMode="NoResize"
    ShowInTaskbar="False"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="av">



    <!--  Resources  -->
    <Window.Resources>
        <Storyboard x:Key="TitleLoaderSpinStoryboard" RepeatBehavior="Forever">
            <DoubleAnimation
                Storyboard.TargetName="TitleLoaderIcon"
                Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                From="0"
                To="360"
                Duration="0:0:0.8" />
        </Storyboard>

        <!--  Brushes (same as MainWindow)  -->
        <SolidColorBrush x:Key="PrimaryBackground" Color="#0F1724" />
        <SolidColorBrush x:Key="CardBackground" Color="#0F1A2B" />
        <SolidColorBrush x:Key="CardBorder" Color="#223448" />
        <SolidColorBrush x:Key="AccentBrush" Color="#2196F3" />
        <SolidColorBrush x:Key="AccentHoverBrush" Color="#4FC3F7" />
        <SolidColorBrush x:Key="TextBrush" Color="#E6EEF8" />
        <SolidColorBrush x:Key="SubTextBrush" Color="#B8C8D8" />
        <SolidColorBrush x:Key="KeyBrush" Color="#162734" />
        <SolidColorBrush x:Key="KeyPressedBrush" Color="#1E3A56" />
        <SolidColorBrush x:Key="ConnectedBrush" Color="#4CAF50" />
        <SolidColorBrush x:Key="DangerBrush" Color="#EF5350" />

        <!--  Main accent button  -->
        <Style x:Key="ConnectButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Padding" Value="16,8" />
            <Setter Property="MinWidth" Value="130" />
            <Setter Property="FontSize" Value="20" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#4FC3F7" />
                        <GradientStop Offset="0.5" Color="#2196F3" />
                        <GradientStop Offset="1" Color="#1565C0" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            x:Name="root"
                            Background="{TemplateBinding Background}"
                            CornerRadius="14">
                            <Border.Effect>
                                <DropShadowEffect
                                    BlurRadius="14"
                                    ShadowDepth="0"
                                    Color="#501E88E5" />
                            </Border.Effect>
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="scale" ScaleX="1" ScaleY="1" />
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="root" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Offset="0" Color="#81D4FA" />
                                            <GradientStop Offset="0.5" Color="#42A5F5" />
                                            <GradientStop Offset="1" Color="#1E88E5" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="root" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Offset="0" Color="#1976D2" />
                                            <GradientStop Offset="1" Color="#1565C0" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="root" Property="Opacity" Value="0.6" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <Style x:Key="BackButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Width" Value="40" />
            <Setter Property="Height" Value="40" />
            <Setter Property="Background" Value="#121C2C" />
            <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}" />
            <Setter Property="BorderThickness" Value="1.5" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            x:Name="bd"
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">

                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="{StaticResource AccentBrush}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#1565C0" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <!--  Danger / red button  -->
        <Style
            x:Key="DangerButton"
            BasedOn="{StaticResource ConnectButtonStyle}"
            TargetType="{x:Type Button}">
            <Setter Property="Background" Value="#121C2C" />
            <Setter Property="BorderBrush" Value="{StaticResource DangerBrush}" />
            <Setter Property="Foreground" Value="{StaticResource DangerBrush}" />
            <Setter Property="MinWidth" Value="110" />
            <Setter Property="MinHeight" Value="40" />
            <Setter Property="FontSize" Value="16" />
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect
                        BlurRadius="12"
                        ShadowDepth="0"
                        Color="#40EF5350" />
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="1.5"
                            CornerRadius="10">
                            <ContentPresenter
                                Margin="16,6"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource DangerBrush}" />
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBackground}" />
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#C62828" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Keyboard keys  -->
        <Style
            x:Key="KeyButton"
            BasedOn="{StaticResource ConnectButtonStyle}"
            TargetType="{x:Type Button}">
            <Setter Property="MinWidth" Value="72" />
            <Setter Property="MinHeight" Value="64" />
            <Setter Property="FontSize" Value="26" />
            <Setter Property="Margin" Value="2" />
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#182633" />
                        <GradientStop Offset="1" Color="#121A23" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="#304A5E" />
            <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
            <Setter Property="FontWeight" Value="Bold" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border
                            Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="{StaticResource KeyPressedBrush}" />
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="{StaticResource AccentHoverBrush}" />
                                <Setter Property="Foreground" Value="{StaticResource PrimaryBackground}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
        </Style>

        <Style x:Key="KeyToggleButton" TargetType="{x:Type ToggleButton}">
            <Setter Property="Foreground" Value="White" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="FontSize" Value="18" />
            <Setter Property="Padding" Value="8,4" />
            <Setter Property="MinWidth" Value="72" />
            <Setter Property="MinHeight" Value="64" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#4FC3F7" />
                        <GradientStop Offset="0.5" Color="#2196F3" />
                        <GradientStop Offset="1" Color="#1565C0" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border
                            x:Name="root"
                            Background="{TemplateBinding Background}"
                            CornerRadius="14">
                            <Border.RenderTransform>
                                <ScaleTransform x:Name="scale" ScaleX="1" ScaleY="1" />
                            </Border.RenderTransform>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center" />
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="root" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Offset="0" Color="#81D4FA" />
                                            <GradientStop Offset="0.5" Color="#42A5F5" />
                                            <GradientStop Offset="1" Color="#1E88E5" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                                <Setter Property="Foreground" Value="White" />
                                <Setter TargetName="root" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect
                                            BlurRadius="18"
                                            ShadowDepth="0"
                                            Color="#702196F3" />
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="root" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Offset="0" Color="#81D4FA" />
                                            <GradientStop Offset="0.5" Color="#42A5F5" />
                                            <GradientStop Offset="1" Color="#1E88E5" />
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!--  Password styles (same as MainWindow)  -->
        <Style TargetType="{x:Type PasswordBox}">
            <Setter Property="Background" Value="#0B2233" />
            <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
            <Setter Property="BorderBrush" Value="#2A4A63" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8" />
        </Style>

        <Style x:Key="PasswordTextBoxStyle" TargetType="{x:Type TextBox}">
            <Setter Property="Background" Value="#0B2233" />
            <Setter Property="Foreground" Value="{StaticResource TextBrush}" />
            <Setter Property="BorderBrush" Value="#2A4A63" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Padding" Value="8" />
            <Setter Property="CaretBrush" Value="{StaticResource TextBrush}" />
        </Style>
    </Window.Resources>

    <!--  Root layout  -->
    <Grid Background="{StaticResource PrimaryBackground}" RenderTransformOrigin="0.499,0.887">
        <Grid.RowDefinitions>
            <!-- Row 0: "Enter password for: <SSID>" + Error message-->
            <RowDefinition Height="Auto" />
            <!--  Row 1: Password + Show/Hide  -->
            <RowDefinition Height="Auto" MinHeight="152" />
            <!--  Row 2: Keyboard  -->
            <RowDefinition Height="Auto" MinHeight="293.167" />
            <!--  Row 3: Connect button  -->
            <RowDefinition />
        </Grid.RowDefinitions>


        <Grid Grid.Row="0" Margin="16,16,16,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <!--  BACK button  -->
            <Button
                x:Name="BtnBack"
                Grid.Column="0"
                Click="Back_Click"
                Style="{StaticResource BackButtonStyle}">
                <iconPacks:PackIconLucide
                    Width="22"
                    Height="22"
                    Foreground="White"
                    Kind="ChevronLeft" />
            </Button>

            <!--  Potential wrong password message  -->
            <TextBlock
                x:Name="TxtPopupStatus"
                Grid.Column="1"
                Margin="40,0,0,0"
                HorizontalAlignment="Left"
                VerticalAlignment="Center"
                FontSize="20"
                FontWeight="SemiBold"
                Foreground="{StaticResource DangerBrush}"
                Text=""
                TextAlignment="Left"
                Visibility="Collapsed" />

        </Grid>

        <!--  Content: label + password + keyboard  -->
        <Grid
            Grid.Row="1"
            Grid.RowSpan="2"
            Margin="4,48,6,14">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="0*" />
                <ColumnDefinition Width="59*" />
                <ColumnDefinition Width="623*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <!-- Row 0: "Enter password for: <SSID>" -->
                <RowDefinition Height="Auto" />
                <!--  Row 1: Password + Show/Hide  -->
                <RowDefinition Height="Auto" />
                <!--  Row 2: Keyboard  -->
                <RowDefinition Height="*" />
                <!--  Row 3: Connect Button  -->
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!-- Row 0: Label: Enter password for: <SSID> -->
            <StackPanel
                Grid.Row="0"
                Grid.ColumnSpan="3"
                VerticalAlignment="Top"
                Orientation="Horizontal">

                <TextBlock
                    x:Name="enterPasswordLabel"
                    FontSize="22"
                    FontWeight="SemiBold"
                    Foreground="{StaticResource SubTextBrush}">
                    <Run Text="Enter password for: " />
                    <Run Text=" " />
                    <Run
                        x:Name="TitleTextBlock"
                        FontWeight="Bold"
                        Foreground="{StaticResource TextBrush}"
                        Text="SSID" />
                </TextBlock>

                <!--  Lucide loader  -->
                <iconPacks:PackIconLucide
                    x:Name="TitleLoaderIcon"
                    Width="22"
                    Height="22"
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Foreground="{StaticResource SubTextBrush}"
                    Kind="Loader"
                    Visibility="Collapsed">

                    <iconPacks:PackIconLucide.RenderTransform>
                        <RotateTransform CenterX="11" CenterY="11" />
                    </iconPacks:PackIconLucide.RenderTransform>

                    <iconPacks:PackIconLucide.Style>
                        <Style TargetType="iconPacks:PackIconLucide">
                            <!--  default state  -->
                            <Setter Property="Visibility" Value="Collapsed" />

                            <Style.Triggers>
                                <!--  when the icon becomes Visible, start spinning  -->
                                <Trigger Property="Visibility" Value="Visible">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard RepeatBehavior="Forever">
                                                <DoubleAnimation
                                                    Storyboard.TargetProperty="(UIElement.RenderTransform).(RotateTransform.Angle)"
                                                    From="0"
                                                    To="360"
                                                    Duration="0:0:0.8" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                </Trigger>
                            </Style.Triggers>
                        </Style>
                    </iconPacks:PackIconLucide.Style>
                </iconPacks:PackIconLucide>
            </StackPanel>

            <!--  Row 1: Password row  -->
            <Grid
                Grid.RowSpan="2"
                Grid.ColumnSpan="3"
                Margin="0,41,0,20">
                <Grid.ColumnDefinitions>
                    <!--  left label  -->
                    <ColumnDefinition Width="Auto" />
                    <!--  right block = password + buttons  -->
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  Left label  -->
                <TextBlock
                    x:Name="passwordLabel"
                    Grid.Column="0"
                    Margin="0,0,20,0"
                    VerticalAlignment="Center"
                    FontSize="18"
                    FontWeight="SemiBold"
                    Foreground="{StaticResource SubTextBrush}"
                    Text="Password" />

                <!--  Right block: password + Show/Hide  -->
                <Grid Grid.Column="1">
                    <Grid.ColumnDefinitions>
                        <!--  fixed width password box  -->
                        <ColumnDefinition Width="*" />
                        <!--  Show/Hide  -->
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!--  Password / TextBox (overlapped for show/hide)  -->
                    <Grid Grid.Column="0">
                        <PasswordBox
                            x:Name="PwdBox"
                            FontSize="30"
                            GotFocus="PasswordInput_GotFocus"
                            PasswordChanged="PasswordChanged" />
                        <TextBox
                            x:Name="PwdTextBox"
                            FontSize="30"
                            GotFocus="PasswordInput_GotFocus"
                            Style="{StaticResource PasswordTextBoxStyle}"
                            TextChanged="PasswordChanged"
                            Visibility="Collapsed" />
                    </Grid>

                    <!--  Show / Hide button  -->
                    <Button
                        x:Name="BtnTogglePwd"
                        Grid.Column="1"
                        Height="42"
                        MinWidth="120"
                        Margin="16,0,0,0"
                        Padding="16,8"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Click="TogglePassword_Click"
                        Content="Show"
                        Style="{StaticResource ConnectButtonStyle}" />
                </Grid>
            </Grid>

            <!--  Row 2: Keyboard  -->
            <Grid
                x:Name="KeyboardGrid"
                Grid.Row="2"
                Grid.ColumnSpan="3"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Visibility="Visible">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <!--  Row 0: Numbers (1..0) - add names so code-behind can change their labels  -->
                <Button
                    x:Name="BtnNum1"
                    Grid.Row="0"
                    Grid.Column="0"
                    Click="Key_Click"
                    Content="1"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum2"
                    Grid.Row="0"
                    Grid.Column="1"
                    Click="Key_Click"
                    Content="2"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum3"
                    Grid.Row="0"
                    Grid.Column="2"
                    Click="Key_Click"
                    Content="3"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum4"
                    Grid.Row="0"
                    Grid.Column="3"
                    Click="Key_Click"
                    Content="4"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum5"
                    Grid.Row="0"
                    Grid.Column="4"
                    Click="Key_Click"
                    Content="5"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum6"
                    Grid.Row="0"
                    Grid.Column="5"
                    Click="Key_Click"
                    Content="6"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum7"
                    Grid.Row="0"
                    Grid.Column="6"
                    Click="Key_Click"
                    Content="7"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum8"
                    Grid.Row="0"
                    Grid.Column="7"
                    Click="Key_Click"
                    Content="8"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum9"
                    Grid.Row="0"
                    Grid.Column="8"
                    Click="Key_Click"
                    Content="9"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnNum0"
                    Grid.Row="0"
                    Grid.Column="9"
                    Click="Key_Click"
                    Content="0"
                    Style="{StaticResource KeyButton}" />

                <!--  Row 1: Q..P - add names so code-behind can change their labels  -->
                <Button
                    x:Name="BtnQ"
                    Grid.Row="1"
                    Grid.Column="0"
                    Click="Key_Click"
                    Content="Q"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnW"
                    Grid.Row="1"
                    Grid.Column="1"
                    Click="Key_Click"
                    Content="W"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnE"
                    Grid.Row="1"
                    Grid.Column="2"
                    Click="Key_Click"
                    Content="E"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnR"
                    Grid.Row="1"
                    Grid.Column="3"
                    Click="Key_Click"
                    Content="R"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnT"
                    Grid.Row="1"
                    Grid.Column="4"
                    Click="Key_Click"
                    Content="T"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnY"
                    Grid.Row="1"
                    Grid.Column="5"
                    Click="Key_Click"
                    Content="Y"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnU"
                    Grid.Row="1"
                    Grid.Column="6"
                    Click="Key_Click"
                    Content="U"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnI"
                    Grid.Row="1"
                    Grid.Column="7"
                    Click="Key_Click"
                    Content="I"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnO"
                    Grid.Row="1"
                    Grid.Column="8"
                    Click="Key_Click"
                    Content="O"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnP"
                    Grid.Row="1"
                    Grid.Column="9"
                    Click="Key_Click"
                    Content="P"
                    Style="{StaticResource KeyButton}" />

                <!--  Row 2: A..L + Backspace  -->
                <Button
                    x:Name="BtnA"
                    Grid.Row="2"
                    Grid.Column="0"
                    Click="Key_Click"
                    Content="A"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnS"
                    Grid.Row="2"
                    Grid.Column="1"
                    Click="Key_Click"
                    Content="S"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnD"
                    Grid.Row="2"
                    Grid.Column="2"
                    Click="Key_Click"
                    Content="D"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnF"
                    Grid.Row="2"
                    Grid.Column="3"
                    Click="Key_Click"
                    Content="F"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnG"
                    Grid.Row="2"
                    Grid.Column="4"
                    Click="Key_Click"
                    Content="G"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnH"
                    Grid.Row="2"
                    Grid.Column="5"
                    Click="Key_Click"
                    Content="H"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnJ"
                    Grid.Row="2"
                    Grid.Column="6"
                    Click="Key_Click"
                    Content="J"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnK"
                    Grid.Row="2"
                    Grid.Column="7"
                    Click="Key_Click"
                    Content="K"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnL"
                    Grid.Row="2"
                    Grid.Column="8"
                    Click="Key_Click"
                    Content="L"
                    Style="{StaticResource KeyButton}" />
                <ToggleButton
                    x:Name="BtnSymbols"
                    Grid.Row="2"
                    Grid.Column="9"
                    Height="64"
                    MinWidth="0"
                    MinHeight="0"
                    Checked="Symbols_Checked"
                    Content="!@#"
                    IsChecked="False"
                    Style="{StaticResource KeyToggleButton}"
                    Unchecked="Symbols_Unchecked" />

                <!--  Row 3: Clear, Z..M, Space  -->
                <Button
                    x:Name="BtnClear"
                    Grid.Row="3"
                    Grid.Column="0"
                    Height="64"
                    MinWidth="0"
                    MinHeight="0"
                    Click="Clear_Click"
                    Content="Clear"
                    Style="{StaticResource ConnectButtonStyle}" />

                <ToggleButton
                    x:Name="BtnCaps"
                    Grid.Row="3"
                    Grid.Column="1"
                    Height="64"
                    MinWidth="0"
                    MinHeight="0"
                    Checked="Caps_Checked"
                    Content="CAPS"
                    IsChecked="False"
                    Style="{StaticResource KeyToggleButton}"
                    Unchecked="Caps_Unchecked" />

                <Button
                    x:Name="BtnZ"
                    Grid.Row="3"
                    Grid.Column="2"
                    Click="Key_Click"
                    Content="Z"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnX"
                    Grid.Row="3"
                    Grid.Column="3"
                    Click="Key_Click"
                    Content="X"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnC"
                    Grid.Row="3"
                    Grid.Column="4"
                    Click="Key_Click"
                    Content="C"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnV"
                    Grid.Row="3"
                    Grid.Column="5"
                    Click="Key_Click"
                    Content="V"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnB"
                    Grid.Row="3"
                    Grid.Column="6"
                    Click="Key_Click"
                    Content="B"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnN"
                    Grid.Row="3"
                    Grid.Column="7"
                    Click="Key_Click"
                    Content="N"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnM"
                    Grid.Row="3"
                    Grid.Column="8"
                    Click="Key_Click"
                    Content="M"
                    Style="{StaticResource KeyButton}" />
                <Button
                    x:Name="BtnBackspace"
                    Grid.Row="3"
                    Grid.Column="9"
                    Grid.ColumnSpan="1"
                    Height="64"
                    MinWidth="0"
                    MinHeight="0"
                    Click="Backspace_Click"
                    Content="⌫"
                    FontSize="22"
                    FontWeight="Bold"
                    Style="{StaticResource ConnectButtonStyle}" />

            </Grid>
        </Grid>
        <!--  Row 3: Connect button alone on the bottom  -->
        <Button
            x:Name="BtnConnect"
            Grid.Row="3"
            Width="250"
            Height="80"
            MinWidth="130"
            Padding="16,8"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Click="BtnConnect_Click"
            Content="Connect"
            Style="{StaticResource ConnectButtonStyle}"
            Visibility="Visible" />
    </Grid>
</Window>



